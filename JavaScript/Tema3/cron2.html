<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cronometro</title>
    <link rel="stylesheet" href="stylecroon.css">
</head>
<body>
    
    <div class="cont">
    <label for="minut">Introduzca los minutos del contador</label>
    <input id="minut" type="text">
    <button id="bot1" type="button" onclick="def()">Enviar</button>
    <div class="botones">
        <button  type="button" id="iniciar">Iniciar</button>
        <button  type="button" id="parar">Parar</button>
    </div>
    <h1 id="cron"></h1>
</div>
    <script>
        var minuto,segundo,parar;
        var mifecha=new Date();//Se crea el objeto fecha
        function def(){
          
          minuto=document.getElementById('minut').value;
          
        
         mifecha.setMinutes(minuto);//Iniciamos los minutos de nuestro contador en 1
         mifecha.setSeconds(0);//Y los segundos en cero
        

         minuto=mifecha.getMinutes();
         segundo=mifecha.getSeconds();
         crono();
       
        }
       

        function crono(){
           
            
        var hora;
        

        if(mifecha.getMinutes()<10){

            minuto='0'+mifecha.getMinutes();
        }
        else{
            minuto='0'+mifecha.getMinutes();
        }

        if(mifecha.getSeconds()<10){

            segundo='0'+mifecha.getSeconds();
        }
        else{
            segundo=mifecha.getSeconds();
        }
        hora=minuto+':'+segundo;
        document.getElementById('cron').innerHTML=hora;

       
       
        if(mifecha.getSeconds()==0&&mifecha.getMinutes()==0){

            clearInterval(parar);
            
        }
        else{
            mifecha.setSeconds(mifecha.getSeconds()-1);//Voy quitandole cada vez un segundo
        }
       
         
       
        
        document.getElementById('parar').addEventListener('click',function(){
        clearInterval(parar);//Para parar el cronometro utilizando eventos
            parar=null;
        });
        
        document.getElementById('iniciar').addEventListener('click',function(){
        if(parar==null){
        parar=setInterval(crono,1000);//Para inicar el cronometro cada segundo
        }  
        }); 
    }
   
    </script>
</body>

</html>